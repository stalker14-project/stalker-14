- type: entity
  id: RandomTrashDetectorSpawner
  name: спавнер случайного мусора (металлоискатель)
  suffix: Stalker
  parent: FlexibleMarker
  components:
    - type: Sprite
      sprite: _Stalker/Objects/Other/Boxes/green_crate.rsi
      state: icon
    - type: RandomSpawner
      prototypes:
        # Tier 2 Crafting Materials
        - STCraftStandardPCBT2
        - STCraftTapeKitT2
        - STCraftHideT2
        - STCraftGlassT2
        - STCraftBirchPlankT2
        - STCraftPlasticFittingT2
        - STCraftSheetIronT2
      rarePrototypes:
        # Tier 3 Crafting Materials (перенесены в редкие)
        - STCraftMultilayerPCBT3
        - STCraftGlueKitT3
        - STCraftSturdyHideT3
        - STCraftQuartzCrystalT3
        - STCraftOakPlankT3
        - STCraftPlasticFittingT3
        - STCraftSheetBrassT3
        #  Weapons
        - STWeaponShotgunMP153
        - STWeaponShotgunMossberg
        - WeaponPistolStalkerAPS
        - KhattabkaGrenade
        - STWeaponGunAKS74U
        - STWeaponRifleStalkerSaiga545
        - STWeaponSniperMosin
        - STWeaponRifleSKS
        # Utility Items
        - DoubleEmergencyOxygenTankStalkerFilled
        - ExtendedEmergencyOxygenTankFilledStalker
        - Binocularus1
        - AAAAStalkerLopata
      rareChance: 0.05   # 5% шанс спавна редкого предмета
      chance: 1
      offset: 0.5

- type: entity
  parent: BaseItem
  id: TrashDetectorTier1
  name: металлоискатель "Простофиля"
  description: Сделан из говна и палок, но если порыться им в больших кучах мусора, то возможно вы что-то найдете.
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 6
    - type: Item
      size: Large
      shape:
        - 0,0,1,1
    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T1_trash_detector.rsi
      state: icon
    - type: TrashDetector
      searchTime: 40
      probability: 0.1

- type: entity
  parent: BaseItem
  id: TrashDetectorTier2
  name: металлоискатель "Копатель"
  description: Хороший металлоискатель, качественно сделанный. Если порыться им в больших кучах мусора, то возможно вы что-то найдете.
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 4.5
    - type: Item
      size: Large
      shape:
        - 0,0,1,1
    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T2_trash_detector.rsi
      state: icon
    - type: TrashDetector
      searchTime: 20
      probability: 0.3

- type: entity
  parent: BaseItem
  id: TrashDetectorTier3
  name: металлоискатель "Шахтёр"
  description: Дорогой, импортный металлоискатель. Прямо из Германии. Если порыться им в больших кучах мусора, то возможно вы что-то найдете.
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 3.5
    - type: Item
      size: Large
      shape:
        - 0,0,1,1
    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T3_trash_detector.rsi
      state: icon
    - type: TrashDetector
      searchTime: 20
      probability: 0.5

- type: entity
  parent: BaseItem
  id: TrashDetectorTier4
  name: металлоискатель "Находка"
  description: Очень Дорогой, металлоискатель модиффицированный с помощью частей гравитационных артефактов. Если порыться им в больших кучах мусора, то с большой вероятностью вы что-то найдете.
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 0.5
    - type: Item
      size: Large
      shape:
        - 0,0,1,1
    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T4_trash_detector.rsi
      state: icon
    - type: TrashDetector
      searchTime: 0
      probability: 0.80

- type: entity
  parent: BaseItem
  id: TrashDetectorTier5
  name: металлоискатель "Аномалист"
  description: Крайне Дорогой, металлоискатель, является улучшенной версией металлоискателя "Находка". Обладает исключительными свойствами по поиску сборочных компонентов. Если порыться им в больших кучах мусора, то вы обязательно что-то найдете.
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: -2
    - type: Item
      size: Large
      shape:
        - 0,0,1,1
    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T5_trash_detector.rsi
      state: icon
    - type: TrashDetector
      searchTime: 0
      probability: 1

- type: entity
  id: RandomTrashDetectorSpawner2
  name: спавнер случайного мусора (металлоискатель)
  suffix: Stalker
  parent: FlexibleMarker
  components:
    - type: Sprite
      sprite: _Stalker/Objects/Other/Boxes/green_crate.rsi
      state: icon
    - type: AdvancedRandomSpawner
      commonPrototypes:
        # Tier 2 Crafting Materials
        - STCraftStandardPCBT2
        - STCraftTapeKitT2
        - STCraftHideT2
        - STCraftGlassT2
        - STCraftBirchPlankT2
        - STCraftPlasticFittingT2
        - STCraftSheetIronT2
      rarePrototypes:
        # Tier 3 Crafting Materials
        - STCraftMultilayerPCBT3
        - STCraftGlueKitT3
        - STCraftSturdyHideT3
        - STCraftQuartzCrystalT3
        - STCraftOakPlankT3
        - STCraftPlasticFittingT3
        - STCraftSheetBrassT3
      legendaryPrototypes:
        # Weapons and special items
        - STWeaponShotgunMP153
        - STWeaponShotgunMossberg
        - WeaponPistolStalkerAPS
        - KhattabkaGrenade
        - STWeaponGunAKS74U
        - STWeaponRifleStalkerSaiga545
        - STWeaponSniperMosin
        - STWeaponRifleSKS
        - DoubleEmergencyOxygenTankStalkerFilled
        - ExtendedEmergencyOxygenTankFilledStalker
        - Binocularus1
        - AAAAStalkerLopata
      negativePrototypes:
        # "Плохие события" - враги, мутанты
        - MobMutantBoar  # Дикий кабан-мутант
      commonChance: 0.8  # 80% шанс выпадения обычных предметов (если провален → спавн мутанта)
      rareChance: 0.05    # 5% шанс выпадения редкого предмета
      legendaryChance: 0.02  # 2% шанс выпадения легендарного предмета (оружия и ценных предметов)
      negativeEventChance: 0.1  # 10% шанс появления "плохого события"
      minCommonCount: 1   # Минимум 1 обычный предмет (гарантированно)
      maxCommonCount: 3   # Максимум 3 обычных предмета (третий выпадает с шансом 50%)
      minRareCount: 0     # Минимум 0 редких предметов
      maxRareCount: 2     # Максимум 2 редких предмета
      minLegendaryCount: 0 # Минимум 0 легендарных предметов
      maxLegendaryCount: 1 # Максимум 1 легендарный предмет
      minNegativeCount: 1  # Минимум 1 "плохое событие"
      maxNegativeCount: 2  # Максимум 2 "плохих события"
      offset: 0.5          # Разброс координат при спавне
      deleteSpawnerAfterSpawn: true  # Удалять спавнер после спавна
