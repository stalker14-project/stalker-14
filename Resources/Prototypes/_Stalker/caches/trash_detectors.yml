# =============================================================================
# Ящик-спавнер, содержащий AdvancedRandomSpawnerComponent
# =============================================================================
- type: entity
  id: RandomTrashDetectorSpawner
  name: спавнер случайного мусора (металлоискатель)
  suffix: Stalker
  parent: FlexibleMarker
  components:
    - type: Sprite
      sprite: _Stalker/Objects/Other/Boxes/green_crate.rsi
      state: icon

    - type: AdvancedRandomSpawner
      # Списки прототипов для разных категорий (common, rare, legendary, negative)

      # 1) Common Prototypes
      commonPrototypes:
        - STCraftStandardPCBT2
        - STCraftTapeKitT2
        - STCraftHideT2
        - STCraftGlassT2
        - STCraftBirchPlankT2
        - STCraftPlasticFittingT2
        - STCraftSheetIronT2

      # 2) Rare Prototypes
      rarePrototypes:
        - STCraftMultilayerPCBT3
        - STCraftGlueKitT3
        - STCraftSturdyHideT3
        - STCraftQuartzCrystalT3
        - STCraftOakPlankT3
        - STCraftPlasticFittingT3
        - STCraftSheetBrassT3
        - STWeaponShotgunMP153
        - STWeaponShotgunMossberg
        - WeaponPistolStalkerAPS
        - KhattabkaGrenade
        - STWeaponGunAKS74U
        - STWeaponRifleStalkerSaiga545
        - STWeaponSniperMosin
        - STWeaponRifleSKS
        - DoubleEmergencyOxygenTankStalkerFilled
        - ExtendedEmergencyOxygenTankFilledStalker
        - Binocularus1
        - AAAAStalkerLopata

      # 3) Legendary Prototypes
      legendaryPrototypes:
        - STWeaponShotgunMP153

      # 4) Negative Prototypes
      negativePrototypes:
        - MobMutantBoar  # Дикий кабан-мутант

      # Вероятности и настройки (шансы, количество, разброс)
      commonChance: 0.8
      rareChance: 0.05
      legendaryChance: 0.02
      negativeEventChance: 0.1

      minCommonCount: 1
      maxCommonCount: 3
      minRareCount: 0
      maxRareCount: 2
      minLegendaryCount: 0
      maxLegendaryCount: 1
      minNegativeCount: 1
      maxNegativeCount: 2

      offset: 0.5
      deleteSpawnerAfterSpawn: false

# =============================================================================
# Металлоискатели разных уровней (Tier1..Tier5)
# =============================================================================

# -----------------------------------------------------------------------------
# Tier 1 (Простофиля)
# -----------------------------------------------------------------------------
- type: entity
  parent: BaseItem
  id: TrashDetectorTier1
  name: металлоискатель "Простофиля"
  description: Сделан из говна и палок, но если порыться им в больших кучах мусора, то возможно вы что-то найдете.
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 6

    - type: Item
      size: Large
      shape:
        - 0,0,1,1

    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T1_trash_detector.rsi
      state: icon

    - type: TrashDetector
      searchTime: 40
      commonProbability: 0.5
      rareProbability: 0.1
      legendaryProbability: 0.02
      negativeProbability: 0.05

# -----------------------------------------------------------------------------
# Tier 2 (Копатель)
# -----------------------------------------------------------------------------
- type: entity
  parent: BaseItem
  id: TrashDetectorTier2
  name: металлоискатель "Копатель"
  description: Хороший металлоискатель, качественно сделанный.
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 4.5

    - type: Item
      size: Large
      shape:
        - 0,0,1,1

    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T2_trash_detector.rsi
      state: icon

    - type: TrashDetector
      searchTime: 20
      commonProbability: 0.6
      rareProbability: 0.15
      legendaryProbability: 0.03
      negativeProbability: 0.04

# -----------------------------------------------------------------------------
# Tier 3 (Шахтёр)
# -----------------------------------------------------------------------------
- type: entity
  parent: BaseItem
  id: TrashDetectorTier3
  name: металлоискатель "Шахтёр"
  description: Дорогой, импортный металлоискатель. Прямо из Германии...
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 3.5

    - type: Item
      size: Large
      shape:
        - 0,0,1,1

    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T3_trash_detector.rsi
      state: icon

    - type: TrashDetector
      searchTime: 20
      commonProbability: 0.7
      rareProbability: 0.2
      legendaryProbability: 0.05
      negativeProbability: 0.03

# -----------------------------------------------------------------------------
# Tier 4 (Находка)
# -----------------------------------------------------------------------------
- type: entity
  parent: BaseItem
  id: TrashDetectorTier4
  name: металлоискатель "Находка"
  description: Очень дорогой, модифицированный с помощью артефактов...
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: 0.5

    - type: Item
      size: Large
      shape:
        - 0,0,1,1

    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T4_trash_detector.rsi
      state: icon

    - type: TrashDetector
      searchTime: 10
      commonProbability: 0.8
      rareProbability: 0.3
      legendaryProbability: 0.1
      negativeProbability: 0.02

# -----------------------------------------------------------------------------
# Tier 5 (Аномалист)
# -----------------------------------------------------------------------------
- type: entity
  parent: BaseItem
  id: TrashDetectorTier5
  name: металлоискатель "Аномалист"
  description: Крайне дорогой, улучшенная версия "Находка"...
  suffix: Stalker, металлоискатель
  components:
    - type: STWeight
      self: -2

    - type: Item
      size: Large
      shape:
        - 0,0,1,1

    - type: Sprite
      sprite: _Stalker/Objects/Tools/Trash_detectors/T5_trash_detector.rsi
      state: icon

    - type: TrashDetector
      searchTime: 5
      commonProbability: 0.9
      rareProbability: 0.4
      legendaryProbability: 0.2
      negativeProbability: 0.01
