##############################
#          WEAPONS           #
##############################

- type: entity
  parent: SmokeGrenade
  id: ChlorineBalloonStalker
  name: chlorine cylinder
  description: Chemical weapons banned after April 29, 1997, but chlorine cylinders were found in laboratories in the Chernobyl Exclusion Zone. Ignoring the ban, they use quite powerful and dangerous weapons in large-scale battles, which can spread over a large area. In this case, it is better to stock up on an oxygen cylinder with a gas mask.
  suffix: Stalker, Events
  components:
  - type: Sprite
    sprite: _Stalker/Objects/Weapons/Chemical/chlorine_balloon_stalker.rsi
  - type: SmokeOnTrigger
    duration: 90
    spreadAmount: 8000
    solution:
      reagents:
      - ReagentId: ChlorineStalker
        Quantity: 100
  - type: STWeight
    self: 15.5
  - type: Item
    size: Ginormous
  - type: OnUseTimerTrigger
    delay: 1
  - type: SoundOnTrigger
    sound: /Audio/Effects/smoke.ogg
  - type: DeleteOnTrigger
  - type: TimerTriggerVisuals
    primingSound:
      path: /Audio/Effects/Smoke-grenade.ogg

- type: entity
  parent: SmokeGrenade
  id: IpritGrenadeStalker
  name: mustard gas grenade
  description: Chemical weapon of small destruction, the cheapest of all types of this type of weapon. Makes a small explosion, after which the contained mustard gas is released.
  suffix: Stalker
  components:
  - type: Sprite
    sprite: _Stalker/Objects/Weapons/Chemical/ipritgrenade.rsi
  - type: Clothing
    sprite: _Stalker/Objects/Weapons/Chemical/ipritgrenade.rsi
  - type: ExplodeOnTrigger
  - type: SmokeOnTrigger
    duration: 20
    spreadAmount: 10
    solution:
      reagents:
      - ReagentId: IpritStalker
        Quantity: 20
  - type: Explosive
    explosionType: Default
    maxIntensity: 2
    intensitySlope: 2
    totalIntensity: 2
    canCreateVacuum: false
  - type: STWeight
    self: 0.1
  - type: Item
    size: Small
  - type: OnUseTimerTrigger
    delay: 3
  - type: SoundOnTrigger
    sound: /Audio/Effects/smoke.ogg
  - type: DeleteOnTrigger
  - type: TimerTriggerVisuals
    primingSound:
      path: /Audio/Effects/Smoke-grenade.ogg

- type: entity
  parent: SmokeGrenade
  id: LewisiteGrenadeStalker
  name: lewisite gas grenade
  description: Chemical weapon of small damage, something average among all types of this type of weapon. Makes a small explosion, after which the contained lewisite is released, more dangerous than mustard gas.
  suffix: Stalker
  components:
  - type: Sprite
    sprite: _Stalker/Objects/Weapons/Chemical/lewisitegrenade.rsi
  - type: Clothing
    sprite: _Stalker/Objects/Weapons/Chemical/lewisitegrenade.rsi
  - type: ExplodeOnTrigger
  - type: SmokeOnTrigger
    duration: 30
    spreadAmount: 20
    solution:
      reagents:
      - ReagentId: LewisiteStalker
        Quantity: 30
  - type: Explosive
    explosionType: Default
    maxIntensity: 2
    intensitySlope: 2
    totalIntensity: 2
    canCreateVacuum: false
  - type: STWeight
    self: 0.25
  - type: Item
    size: Small
  - type: OnUseTimerTrigger
    delay: 3
  - type: SoundOnTrigger
    sound: /Audio/Effects/smoke.ogg
  - type: DeleteOnTrigger
  - type: TimerTriggerVisuals
    primingSound:
      path: /Audio/Effects/Smoke-grenade.ogg

- type: entity
  parent: SmokeGrenade
  id: HydrocyanicGrenadeStalker
  name: Cyclone-B gas bomb
  description: Chemical weapon of long and strong destruction, the longest duration of gas action. Hydrocyanic acid is highly toxic and can cause lung damage, most likely you will die from lack of oxygen and suffocation. It was used during the First World War. Some stalkers were able to find this weapon in the Chernobyl Exclusion Zone, their further fate is unknown. Criminal groups have this weapon for torture or execution. Unfortunately, this weapon is not so popular for use, they say that the area of ​​​​damage is too small.
  suffix: Stalker, Events
  components:
  - type: Sprite
    sprite: _Stalker/Objects/Weapons/Chemical/hydrocyanicgrenade.rsi
  - type: Clothing
    sprite: _Stalker/Objects/Weapons/Chemical/hydrocyanicgrenade.rsi
  - type: ExplodeOnTrigger
  - type: SmokeOnTrigger
    duration: 180
    spreadAmount: 20
    solution:
      reagents:
      - ReagentId: HydrocyanicStalker
        Quantity: 50
  - type: STWeight
    self: 1.5
  - type: Item
    size: Normal
    shape:
    - 0,0,1,1
  - type: OnUseTimerTrigger
    delay: 5
  - type: SoundOnTrigger
    sound: /Audio/Effects/smoke.ogg
  - type: DeleteOnTrigger
  - type: TimerTriggerVisuals
    primingSound:
      path: /Audio/Effects/Smoke-grenade.ogg

- type: entity
  parent: SmokeGrenade
  id: PhosphorusGrenadeStalker
  name: phosphorus grenade
  description: A weapon designed to effectively kill and stun the enemy, filled with phosphorus.
  suffix: Stalker
  components:
  - type: Sprite
    sprite: _Stalker/Objects/Weapons/Chemical/phosphorusgreande.rsi
  - type: Clothing
    sprite: _Stalker/Objects/Weapons/Chemical/phosphorusgreande.rsi
  - type: ExplodeOnTrigger
  - type: SmokeOnTrigger
    duration: 10
    spreadAmount: 999
    solution:
      reagents:
      - ReagentId: PhosphorusStalker
        Quantity: 9999
  - type: Explosive
    explosionType: Default
    maxIntensity: 30
    intensitySlope: 1
    totalIntensity: 70
    canCreateVacuum: false
  - type: STWeight
    self: 0.2
  - type: Item
    size: Normal
    shape:
    - 0,0,1,1
  - type: OnUseTimerTrigger
    delay: 3
  - type: SoundOnTrigger
    sound: /Audio/Effects/smoke.ogg
  - type: DeleteOnTrigger

- type: entity
  name: GL-1 grenade
  parent: BaseItem
  id: GL1Grenade
  description: Chemical illumination grenade. Designed to illuminate areas of terrain during night combat.
  components:
    - type: Trash
      time: 600
    - type: SpaceGarbage
    - type: ExpendableLight
      spentName: expendable-light-spent-gl-name
      spentDesc: expendable-light-spent-gl-desc
      glowDuration: 1800 # time in seconds
      glowColorLit: "#d1ff7d"
      fadeOutDuration: 300
      turnOnBehaviourID: turn_on
      fadeOutBehaviourID: fade_out
      iconStateLit: gl_lit
      iconStateSpent: gl_unlit
      litSound:
        path: /Audio/Items/Handcuffs/rope_breakout.ogg
    - type: Sprite
      sprite: _Stalker/Objects/Weapons/Grenades/gl.rsi
      layers:
      - map: [ enum.ExpendableLightVisualLayers.Base ]
        state: gl_base
      - map: [ enum.ExpendableLightVisualLayers.Glow ]
        state: gl_glow
        visible: false
        shader: unshaded
      - map: [ enum.ExpendableLightVisualLayers.Overlay ]
        state: gl_unlit
    - type: Item
      sprite: _Stalker/Objects/Weapons/Grenades/gl.rsi
      heldPrefix: unlit
    - type: Appearance
    - type: PointLight
      enabled: false
      color: "#d1ff7d"
      radius: 7
      energy: 0
      netsync: false
    - type: LightBehaviour
      behaviours:
        - !type:FadeBehaviour # slowly fade in once activated
          id: turn_on
          interpolate: Linear
          maxDuration: 10.0
          startValue: 0.0
          endValue: 3.0
          property: Energy
        - !type:FadeBehaviour # fade out energy as it burns out
          id: fade_out
          interpolate: Linear
          maxDuration: 10 # 300.0
          startValue: 3.0
          endValue: 0.2
          property: Energy
        - !type:FadeBehaviour # fade out radius as it burns out
          id: fade_out
          interpolate: Linear
          maxDuration: 10 # 300.0
          startValue: 5.0
          endValue: 1.5

##############################
#          REAGENTS          #
##############################

- type: reagent
  id: ChlorineStalker
  name: chlorine gas
  group: Elements
  desc: Химическое оружие
  physicalDesc: газообразное
  flavor: bitter
  color: "#d2ff85"
  meltingPoint: -101.5
  boilingPoint: -34.04
  plantMetabolism:
    - !type:PlantAdjustWater
      amount: -0.5
    - !type:PlantAdjustToxins
      amount: 15
    - !type:PlantAdjustWeeds
      amount: -3
    - !type:PlantAdjustHealth
      amount: -1
  metabolisms:
    Poison:
      effects:
      - !type:HealthChange
        damage:
          types:
            Poison: 3
    Narcotic:
      effects:
      - !type:PopupMessage
        type: Local
        probability: 0.08
        messages:
        - Ваши глаза сильно жгут.
        - Ваш глаз истекает кровью.
        - Ваши глаза начинают слезиться.
        - Вы чувствуете сонливость и страдания глаз.
        - У вас кружится голова.
        - Ваши лёгкие якобы перестают дышать.
        - Вы чувствуете невероятно острую боль в животе!
      - !type:PopupMessage
        type: Local
        visualType: MediumCaution
        probability: 0.03
        messages:
        - Ваши глаза словно отсоединяются!
        - Ваши глаза перестают работать!
        - Вы чувствуете, как ваше зрение ухудшается.
        - Ваши веки быстро дёргаются.
        conditions:
        - !type:ReagentThreshold
          min: 5
      - !type:Emote
        emote: Crying
        probability: 0.1
      - !type:Emote
        emote: Scream
        probability: 0.2
      - !type:GenericStatusEffect
        key: TemporaryBlindness
        component: TemporaryBlindness
        conditions:
        - !type:ReagentThreshold
          min: 1
    Medicine:
      effects:
      - !type:ChemVomit
        conditions:
        - !type:ReagentThreshold
          min: 10
        probability: 0.2

- type: reagent
  id: IpritStalker
  name: mustard gas
  group: Elements
  desc: Химическое оружие
  physicalDesc: газообразное
  flavor: bitter
  color: "#ffeb78"
  meltingPoint: -101.5
  boilingPoint: -34.04
  metabolisms:
    Poison:
      effects:
      - !type:HealthChange
        damage:
          types:
            Poison: 0.6
            Heat: 0.5
            Caustic: 0.25
    Narcotic:
      effects:
      - !type:PopupMessage
        type: Local
        probability: 0.08
        messages:
        - Ваша кожа шипит.
        - Вы чувствуете сильные ожоги
        - Ваша кожа сдирается.
        - Вы чувствуете отравление
        - Вы чешитесь ещё больнее
        - На вашей коже образуются опухли
        - Ваша кожа расплавляется
      - !type:PopupMessage
        type: Local
        visualType: MediumCaution
        probability: 0.02
        messages:
        - Ваша кожа слезла!
        - Вы чувствуете повышенную температуру.
        conditions:
        - !type:ReagentThreshold
          min: 5
      - !type:Emote
        emote: Crying
        probability: 0.3
      - !type:GenericStatusEffect
        key: TemporaryBlindness
        component: TemporaryBlindness
        conditions:
        - !type:ReagentThreshold
          min: 4
    Medicine:
      effects:
      - !type:ChemVomit
        conditions:
        - !type:ReagentThreshold
          min: 5
        probability: 0.2

- type: reagent
  id: LewisiteStalker
  name: lewisite
  group: Elements
  desc: Химическое оружие
  physicalDesc: газообразное
  flavor: bitter
  color: "#b87502"
  meltingPoint: -101.5
  boilingPoint: -34.04
  metabolisms:
    Poison:
      effects:
      - !type:HealthChange
        damage:
          types:
            Poison: 2.50
            Heat: 0.50
            Caustic: 2
    Narcotic:
      effects:
      - !type:PopupMessage
        type: Local
        probability: 0.08
        messages:
        - Ваша кожа шипит.
        - Вы чувствуете сильные ожоги
        - Ваша кожа сдирается.
        - Вы чувствуете отравление
        - Вы чешитесь ещё больнее
        - На вашей коже образуются опухли
        - Ваша кожа расплавляется
        - Вы чувствуете раздражительный запах
      - !type:PopupMessage
        type: Local
        visualType: MediumCaution
        probability: 0.02
        messages:
        - Ваша кожа слезла!
        - Вы чувствуете повышенную температуру.
        conditions:
        - !type:ReagentThreshold
          min: 5
      - !type:Emote
        emote: Crying
        probability: 0.3
      - !type:Emote
        emote: Scream
        probability: 0.3
      - !type:GenericStatusEffect
        key: TemporaryBlindness
        component: TemporaryBlindness
        conditions:
        - !type:ReagentThreshold
          min: 4
    Medicine:
      effects:
      - !type:ChemVomit
        conditions:
        - !type:ReagentThreshold
          min: 5
        probability: 0.2

- type: reagent
  id: HydrocyanicStalker
  name: hydrocyanic acid
  group: Elements
  desc: Химическое оружие
  physicalDesc: газообразное
  flavor: bitter
  color: "#fffcf2"
  meltingPoint: -101.5
  boilingPoint: -34.04
  metabolisms:
    Poison:
      effects:
      - !type:HealthChange
        damage:
          types:
            Poison: 0.5
    Narcotic:
      effects:
      - !type:GenericStatusEffect
        key: Muted
        component: Muted
        probability: 0.3
      - !type:PopupMessage
        type: Local
        probability: 0.08
        messages:
        - Вы не чувствуете легкие
        - Вы не дишите
        - Вы перестали дышать
        - Ваши легкие набухают
        - Вы чувствуете сильную боль в легких
        - Вы пытаетесь откашлить газ
      - !type:PopupMessage
        type: Local
        visualType: MediumCaution
        probability: 0.02
        messages:
        - Ваши легкие отказали!
        - Вы сильнее задыхаетесь!
        - Малой уровень кислорода!
        conditions:
        - !type:ReagentThreshold
          min: 2
      - !type:Emote
        emote: Cough
        probability: 0.4
      - !type:GenericStatusEffect
    Medicine:
      effects:
      - !type:HealthChange
        damage:
          groups:
            Airloss: 15

- type: reagent
  id: PhosphorusStalker
  name: phosphorus
  desc: Химическое оружие
  physicalDesc: газообразное
  flavor: bitter
  color: "#ffe7bf"
  metabolisms:
    Poison:
      effects:
      - !type:HealthChange
        damage:
          types:
            Heat: 30
            Caustic: 30
      - !type:FlammableReaction
        multiplier: 0.1
      - !type:AdjustTemperature
        amount: 120
  reactiveEffects:
    Flammable:
      methods: [ Touch ]
      effects:
      - !type:FlammableReaction
        multiplier: 0.05
      - !type:Ignite
      - !type:Emote
        emote: Scream
        probability: 0.2

##############################
#            MISC            #
##############################

- type: reagent
  id: DexalinPlusStalker
  name: Dexalin Plus
  group: Medicine
  desc: Используется для лечения кислородного голодания и потери крови. Выводит синильную кислоту из кровеносной системы.
  physicalDesc: облачное
  flavor: medicine
  color: "#4da0bd"
  metabolisms:
    Medicine:
      effects:
      - !type:HealthChange
        damage:
          types:
            Asphyxiation: -8
            Bloodloss: -5
      - !type:AdjustReagent
        conditions:
        - !type:ReagentThreshold
          reagent: HydrocyanicStalker
          min: 0.1
        reagent: HydrocyanicStalker
        amount: -50
      - !type:HealthChange
        conditions:
        - !type:ReagentThreshold
          min: 25
        damage:
          types:
            Asphyxiation: 5
            Cold: 3
